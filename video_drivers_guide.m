# ################################################################
# ## üñ•Ô∏è –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –º–∞–∫–µ—Ç—É –±–ª–æ—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥—Ä–∞–π–≤–µ—Ä–æ–≤ ##
# ################################################################
#
# ‚ÑπÔ∏è –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥—Ä–∞–π–≤–µ—Ä–æ–≤
#              –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–∞–∫–µ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Arch Linux.
# üí° –í–∫–ª—é—á–∞–µ—Ç: –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è Intel, AMD, NVIDIA (–≤–∫–ª—é—á–∞—è –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–µ),
#              –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–ª—è Wayland, –≥–∏–±—Ä–∏–¥–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏ (switcherooctl),
#              –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (glmark2, vkcube, nvidia-smi –∏ –¥—Ä.),
#              –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (TLP).
# ‚ùó –í–∞–∂–Ω–æ: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–∞–∫–µ—Ç–∞, –≤ chroot –∏–ª–∏ –≤ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.

##############################################################
### –û–ë–ù–û–í–õ–ï–ù–ù–û–ï –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –£–°–¢–ê–ù–û–í–ö–ï –ì–†–ê–§–ò–ß–ï–°–ö–ò–• –î–†–ê–ô–í–ï–†–û–í
### (–° –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ Wayland, –≥–∏–±–µ—Ä–Ω–∞—Ü–∏—é –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ - 2025)
### + –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (–≤–∫–ª—é—á–∞—è glmark2)
### + –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ switcherooctl
### + –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤–∫–ª—é—á–∞—è TLP –¥–ª—è –Ω–æ—É—Ç–±—É–∫–æ–≤)
### + –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏—è—Ö –¥—Ä–∞–π–≤–µ—Ä–æ–≤ NVIDIA –∏ VA-API



##############################################################
# ‚ùó –í–ê–ñ–ù–û:
# 1. –≠—Ç–æ –†–£–ö–û–í–û–î–°–¢–í–û –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ë–õ–û–ö–ê 12 –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–∞–∫–µ—Ç–∞.
# 2. –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ò–ó –≠–¢–û–ì–û –§–ê–ô–õ–ê —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–µ–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–µ.
# 3. –ö–û–ü–ò–†–£–ô–¢–ï –∏ –í–°–¢–ê–í–õ–Ø–ô–¢–ï –∫–æ–º–∞–Ω–¥—ã –≤—Ä—É—á–Ω—É—é.
# 4. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –≤ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.
# 5. –î–ª—è NVIDIA (–ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–µ –∏ nouveau) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏!




##############################################################

# 0. üîç –ü–û–î–ì–û–¢–û–í–ö–ê –ò –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –í–ò–î–ï–û–ö–ê–†–¢–´
# –í Live-—Å—Ä–µ–¥–µ –∏–ª–∏ –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

lspci | grep -e VGA -e 3D -e Display

# –∏–ª–∏

inxi -G

# –ó–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è (Intel, AMD, NVIDIA) –∏ –º–æ–¥–µ–ª—å (–¥–ª—è NVIDIA: —É—Ç–æ—á–Ω–∏—Ç–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ - –Ω–∞–ø—Ä–∏–º–µ—Ä, Fermi, Kepler, Maxwell, Pascal –∏ —Ç.–¥.).
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏ NVIDIA –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ NVIDIA (https://www.nvidia.com/drivers/      ).


# –í–ê–ñ–ù–û –û –ü–û–ö–û–õ–ï–ù–ò–Ø–• GPU:
# –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥—Ä–∞–π–≤–µ—Ä–∞ —Ç–∞–∫–∂–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–∫–æ–ª–µ–Ω–∏—è –≤–∞—à–µ–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã.
# –ü—Ä–∏–º–µ—Ä—ã –ø–æ–∫–æ–ª–µ–Ω–∏–π NVIDIA: Fermi, Kepler, Maxwell, Pascal, Turing, Ampere, Ada Lovelace.
# –°—Ç–∞—Ä—ã–µ –ø–æ–∫–æ–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –Ω–æ–≤—ã–º–∏ –¥—Ä–∞–π–≤–µ—Ä–∞–º–∏.
# –ù–æ–≤—ã–µ –∫–∞—Ä—Ç—ã (Turing, Ampere, Ada Lovelace) —Ç—Ä–µ–±—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã.
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –Ω–∞ —Å–∞–π—Ç–µ NVIDIA –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞.


# 1. üìã –í–´–ë–û–† –í–ê–†–ò–ê–ù–¢–ê –£–°–¢–ê–ù–û–í–ö–ò
# –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞. –í—ã–±–µ—Ä–∏—Ç–µ –û–î–ò–ù, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
# –í–ê–ñ–ù–û: –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤ –±–ª–æ–∫–∞—Ö –Ω–∏–∂–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å–∏–º–≤–æ–ª–æ–º '#'. –ü–ï–†–ï–î –í–°–¢–ê–í–ö–û–ô –í –¢–ï–†–ú–ò–ù–ê–õ,
# –£–ë–ï–†–ò–¢–ï –°–ò–ú–í–û–õ '#' –ò –ü–†–û–ë–ï–õ –≤ –ù–ê–ß–ê–õ–ï –°–¢–†–û–ö–ò –¥–ª—è –¢–ï–• –ö–û–ú–ê–ù–î, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç
# –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Ç–∏–ø GPU, –Ω–∞–ª–∏—á–∏–µ –≥–∏–±—Ä–∏–¥–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏, –∂–µ–ª–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏).





##############################################################
### üì¶ –í–ê–†–ò–ê–ù–¢ 1: Intel Integrated Graphics (–¢–æ–ª—å–∫–æ Intel)
##############################################################

# –ë–ê–ó–û–í–ê–Ø –£–°–¢–ê–ù–û–í–ö–ê:

# pacman -S --noconfirm mesa vulkan-intel
# pacman -S --noconfirm lib32-mesa lib32-vulkan-intel







##############################################################
### üì¶ –í–ê–†–ò–ê–ù–¢ 2: AMD Radeon Graphics (–¢–æ–ª—å–∫–æ AMD)
##############################################################

# –ë–ê–ó–û–í–ê–Ø –£–°–¢–ê–ù–û–í–ö–ê:

# pacman -S --noconfirm mesa vulkan-radeon
# pacman -S --noconfirm lib32-mesa lib32-vulkan-radeon







##############################################################
### üì¶ –í–ê–†–ò–ê–ù–¢ 3: NVIDIA Graphics (–ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã)
### –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç (Pascal, Turing, Ampere, Ada Lovelace –∏ –Ω–æ–≤–µ–µ).
##############################################################


# üìå –®–ê–ì 1: –í–´–ë–ï–†–ò–¢–ï –î–†–ê–ô–í–ï–† –ò –í–ï–†–°–ò–Æ. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¢–û–õ–¨–ö–û –û–î–ò–ù –ø–∞–∫–µ—Ç –¥—Ä–∞–π–≤–µ—Ä–∞ (nvidia, nvidia-lts, nvidia-dkms) –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã.
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –≤–∞–º–∏ –≤–µ—Ä—Å–∏—è –¥—Ä–∞–π–≤–µ—Ä–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –≤–∞—à–µ–π –º–æ–¥–µ–ª—å—é GPU (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ https://www.nvidia.com/drivers/    ).


# –ü–û–Ø–°–ù–ï–ù–ò–ï –ö –í–´–ë–û–†–£ –í–ï–¢–ö–ò –î–†–ê–ô–í–ï–†–ê:
# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ NVIDIA –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –≤–µ—Ç–∫–∏:
# 1. Production Branch (–°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞):
#    - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
#    - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
#    - –ò–º–µ–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é ISV (Independent Software Vendor).
#    - –≠—Ç–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è Quadro Optimal Driver for Enterprise (ODE).
# 2. New Feature Branch (NFB) / Quadro New Feature (QNF):
#    - –í—ã–±–∏—Ä–∞–π—Ç–µ, –µ—Å–ª–∏ –≤–∞–º —Ç—Ä–µ–±—É—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
#      –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤–æ–π –û–° –º–µ–∂–¥—É —Ä–µ–ª–∏–∑–∞–º–∏ Production Branch.
#    - –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–æ—Ä–æ—á–µ, —á–µ–º —É Production Branch.
# –í–ê–ñ–ù–û: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –≤–∞–º–∏ –≤–µ—Ä—Å–∏—è –¥—Ä–∞–π–≤–µ—Ä–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞
# —Å –≤–∞—à–µ–π –º–æ–¥–µ–ª—å—é GPU (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ https://www.nvidia.com/drivers/  ).
# –¢–∞–∫–∂–µ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –≤–µ—Ä—Å–∏–µ–π –≤–∞—à–µ–≥–æ —è–¥—Ä–∞ (linux, linux-lts).


# A. –î–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —è–¥—Ä–∞ (linux):

# pacman -S --noconfirm nvidia nvidia-utils nvidia-settings lib32-nvidia-utils opencl-nvidia lib32-opencl-nvidia


# B. –î–ª—è LTS-—è–¥—Ä–∞ (linux-lts):

# pacman -S --noconfirm nvidia-lts nvidia-utils nvidia-settings lib32-nvidia-utils opencl-nvidia lib32-opencl-nvidia


# C. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π DKMS-–¥—Ä–∞–π–≤–µ—Ä, –µ—Å–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–µ —è–¥—Ä–æ):


# pacman -S --noconfirm nvidia-dkms nvidia-utils nvidia-settings lib32-nvidia-utils opencl-nvidia lib32-opencl-nvidia


##############################################################

# üìå –®–ê–ì 2: –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û (—Ç–æ–ª—å–∫–æ –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏ Intel/AMD + NVIDIA):

# pacman -S --noconfirm switcheroo-control # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞–∫–µ—Ç (–∫–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–∏—Å)
# systemctl enable switcheroo-control.service # –í–∫–ª—é—á–∞–µ–º —Å–µ—Ä–≤–∏—Å

##############################################################

# üìå –®–ê–ì 3: –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´:

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è:

# echo 'options nvidia-drm modeset=1' > /etc/modprobe.d/nvidia.conf # –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –º–æ–¥—Å–µ—Ç–∞ –¥–ª—è NVIDIA (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è Wayland)
# echo 'options nvidia NVreg_DynamicPowerManagement=0x02' >> /etc/modprobe.d/nvidia.conf # –î–ª—è –Ω–æ—É—Ç–±—É–∫–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

# –®–ê–ì 4: –ï–°–õ–ò NVIDIA GPU —è–≤–ª—è–µ—Ç—Å—è –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ô –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–æ–π:
# –í–ê–ñ–ù–û: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ libva-nvidia-driver –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –¢–û–õ–¨–ö–û –µ—Å–ª–∏ NVIDIA GPU —è–≤–ª—è–µ—Ç—Å—è –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ô –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–æ–π –≤ —Å–∏—Å—Ç–µ–º–µ –ò –≤–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤–∏–¥–µ–æ (–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ) –Ω–∞ –Ω–µ–π.
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º—É —Å –≥–∏–±—Ä–∏–¥–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–æ–π (Intel/AMD + NVIDIA) –º–æ–∂–µ—Ç –ö–û–ù–§–õ–ò–ö–¢–û–í–ê–¢–¨ —Å VA-API —á–µ—Ä–µ–∑ Mesa (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≥—Ä–∞—Ñ–∏–∫—É).
# –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ vainfo –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å NVIDIA GPU –∫–∞–∫ –¥–æ—Å—Ç—É–ø–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ VA-API.

# pacman -S --noconfirm libva-nvidia-driver # <-- –†–ê–°–ö–û–ú–ú–ï–ù–¢–ò–†–£–ô–¢–ï –¢–û–õ–¨–ö–û –ï–°–õ–ò –ù–ï–û–ë–•–û–î–ò–ú–û –ò –£–°–õ–û–í–ò–Ø –í–´–®–ï –í–´–ü–û–õ–ù–ï–ù–´



##############################################################

### üõ†Ô∏è –ò–ù–°–¢–†–£–ú–ï–ù–¢ –î–õ–Ø –°–í–Ø–ó–ò –ú–ï–ñ–î–£ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø–ú–ò –ò –ê–ü–ü–ê–†–ê–¢–ù–´–ú –û–ë–ï–°–ü–ï–ß–ï–ù–ò–ï–ú:
### –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –≤—Å–µ—Ö –≤–∏–¥–µ–æ–∫–∞—Ä—Ç

# pacman -S --noconfirm vulkan-icd-loader lib32-vulkan-icd-loader






##############################################################

# üß± –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–ë–û–†–ö–ê).

mkinitcpio -P # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ initramfs —Å —É—á–µ—Ç–æ–º –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π –¥—Ä–∞–π–≤–µ—Ä–æ–≤






##############################################################


# üîß 5. –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –î–õ–Ø –ù–û–£–¢–ë–£–ö–û–í

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º (TLP - –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä):

# pacman -S --noconfirm tlp tlp-rdw
# systemctl enable tlp.service
# systemctl mask systemd-rfkill.service systemd-rfkill.socket







##############################################################

# üìã 2. –í–ê–ñ–ù–û: –í–û–ó–í–†–ê–¢ –ö –û–°–ù–û–í–ù–û–ú–£ –ú–ê–ö–ï–¢–£

# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —à–∞–≥–∏ –∏–∑ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.
# 2. –ù–ï –í–´–•–û–î–ò–¢–ï –∏–∑ chroot.
# 3. –í–ï–†–ù–ò–¢–ï–°–¨ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –º–∞–∫–µ—Ç—É.
# 5. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–∞–∫–µ—Ç–∞





##############################################################

# üß™ 6. –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´ –í–ò–î–ï–û–ö–ê–†–¢ –ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ò

# –í–´–ü–û–õ–ù–ò–¢–ï –≠–¢–ò –ö–û–ú–ê–ù–î–´ –¢–û–õ–¨–ö–û –ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ò –í –ù–û–í–£–Æ –°–ò–°–¢–ï–ú–£ –ò –í–•–û–î–ê –ö–ê–ö –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨!
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–∫–µ—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (–æ–Ω–∏ –≤—Ö–æ–¥—è—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞–∫–µ—Ç –∏–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ).

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–∞ NVIDIA (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã—Ö –¥—Ä–∞–π–≤–µ—Ä–æ–≤):

nvidia-smi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Vulkan (–¥–ª—è –≤—Å–µ—Ö):

vulkaninfo --summary

# –ü—Ä–æ–≤–µ—Ä–∫–∞ VA-API:
# –¢–ï–°–¢ –ü–†–û–í–û–î–ò–¢–°–Ø –ò–°–ö–õ–Æ–ß–ò–¢–ï–õ–¨–ù–û –ù–ê –ö–û–ú–ü–¨–Æ–¢–ï–†–ê–•, –ì–î–ï NVIDIA GPU –Ø–í–õ–Ø–ï–¢–°–Ø –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ô –í–ò–î–ï–û –ö–ê–†–¢–û–ô.
# –ï—Å–ª–∏ –≤—ã –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ libva-nvidia-driver, vainfo –º–æ–∂–µ—Ç –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å NVIDIA GPU.
# –ï—Å–ª–∏ –≤—ã –£–°–¢–ê–ù–û–í–ò–õ–ò libva-nvidia-driver, –æ–Ω –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ –¥–æ—Å—Ç—É–ø–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

# pacman -S libva-utils # <-- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

vainfo

# –ü—Ä–æ–≤–µ—Ä–∫–∞ switcherooctl (–¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏):

switcherooctl list # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∏–¥–∏—Ç –ª–∏ —É—Ç–∏–ª–∏—Ç–∞ –æ–±–µ –∫–∞—Ä—Ç—ã

# –ó–∞–ø—É—Å–∫–∞–µ–º glxinfo —á–µ—Ä–µ–∑ switcherooctl –Ω–∞ GPU 1 (NVIDIA - –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π –∏–ª–∏ nouveau)

switcherooctl launch --gpu 1 glxinfo | grep 'OpenGL renderer string'

# üß™ –í–ò–ó–£–ê–õ–¨–ù–´–ï –¢–ï–°–¢–´
# –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π OpenGL –±–µ–Ω—á–º–∞—Ä–∫

# pacman -S --noconfirm mesa-utils vulkan-tools glmark2 mesa-demos

glmark2

# 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –æ–±–æ–ª–æ—á–∫–µ.
# 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

glxgears # (–¥–æ–ª–∂–Ω—ã –≤—Ä–∞—â–∞—Ç—å—Å—è —à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∏)


vkcube # (–¥–æ–ª–∂–µ–Ω –≤—Ä–∞—â–∞—Ç—å—Å—è 3D –∫—É–±)

glmark2 # (–∑–∞–ø—É—Å—Ç–∏—Ç –±–µ–Ω—á–º–∞—Ä–∫ OpenGL)

glxinfo | grep 'renderer string' # (–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–∞)

# –î–ª—è NVIDIA —Å switcherooctl:

switcherooctl launch --gpu 1 glmark2

# –î–ª—è NVIDIA —Å legacy Prime (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ, –¥–ª—è Xorg):

DRI_PRIME=1 glmark2






##############################################################

# üéÆ 7. –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï switcherooctl (–ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –≤—Ö–æ–¥–∞ –≤ —Å–µ–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∏ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å switcherooctl –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–µ –≤ Wayland.

# –ê. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ID –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã:

# –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É–∑–Ω–∞–π—Ç–µ ID –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–π –≤–∞—Å –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã.

switcherooctl list

# –í –≤—ã–≤–æ–¥–µ –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (Device: 0, Device: 1 –∏ —Ç.–¥.). –ù–∞–π–¥–∏—Ç–µ –≤–∞—à—É –¥–∏—Å–∫—Ä–µ—Ç–Ω—É—é –∫–∞—Ä—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, NVIDIA) –∏ –∑–∞–ø–æ–º–Ω–∏—Ç–µ –µ—ë –Ω–æ–º–µ—Ä (Device: X).
# –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ, NVIDIA - —ç—Ç–æ Device: 1.

# –ë. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–µ:

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É switcherooctl launch --gpu <ID> <–∫–æ–º–∞–Ω–¥–∞>.

# –ü—Ä–∏–º–µ—Ä—ã:

# –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, steam) –Ω–∞ –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–π GPU (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, ID = 1):

# switcherooctl launch --gpu 1 steam

# –ó–∞–ø—É—Å–∫ glxinfo –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ OpenGL —Ä–µ–Ω–¥–µ—Ä–∞:

switcherooctl launch --gpu 1 glxinfo | grep "OpenGL renderer string"

# –ó–∞–ø—É—Å–∫ vkcube –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Vulkan:

switcherooctl launch --gpu 1 vkcube

# –ó–∞–ø—É—Å–∫ –±–µ–Ω—á–º–∞—Ä–∫–∞:

switcherooctl launch --gpu 1 glmark2


##############################################################
