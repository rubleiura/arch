# ##########################################################################
# üîê –ü–ï–†–ï–†–ê–ë–û–¢–ê–ù–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ù–ê–°–¢–†–û–ô–ö–ï SSH –ù–ê ARCH LINUX (LIVE-–°–†–ï–î–ê)
# ##########################################################################
# ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSH-–¥–æ—Å—Ç—É–ø–∞
#              –∫ live-–æ–∫—Ä—É–∂–µ–Ω–∏—é Arch Linux –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
#              –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —è–≤–ª—è—é—Ç—Å—è –í–†–ï–ú–ï–ù–ù–´–ú–ò –∏ –ú–ï–ù–ï–ï –ë–ï–ó–û–ü–ê–°–ù–´–ú–ò, —á–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!
# ##########################################################################

# ################################################################
# üì¶ –ß–ê–°–¢–¨ 1: –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö –°–ï–¢–ò
# ################################################################

# 1.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
# üîç –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–º—è –≤–∞—à–µ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (eth0, enpXsY, wlan0 –∏ —Ç.–¥.).
ip link

# 1.2 (–î–ª—è Ethernet) –í–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ IP
# üåê –ó–∞–º–µ–Ω–∏—Ç–µ 'eth0' –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–≤–æ–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
ip link set eth0 up
dhcpcd eth0

# 1.3 (–î–ª—è Wi-Fi) –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏
# üì∂ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ iwd –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wi-Fi.
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ Wi-Fi —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
# iwctl device list
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º iwd:
iwctl
#    - –í–Ω—É—Ç—Ä–∏ iwd: –°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Å–µ—Ç–∏:
station wlan0 scan

#    - –í–Ω—É—Ç—Ä–∏ iwd: –ü–æ–∫–∞–∂–∏—Ç–µ —Å–µ—Ç–∏:
station wlan0 get-networks

#    - –í–Ω—É—Ç—Ä–∏ iwd: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å:
station wlan0 connect "–ò–º—è_–í–∞—à–µ–π_–°–µ—Ç–∏"

#    - –í–Ω—É—Ç—Ä–∏ iwd: –í—ã–π–¥–∏—Ç–µ:
exit

# 1.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
# ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É —Ä–∞–±–æ—Ç–∞–µ—Ç.
ping -c 3 archlinux.org

# ################################################################
# üîß –ß–ê–°–¢–¨ 2: –£–°–¢–ê–ù–û–í–ö–ê –ò –ù–ê–°–¢–†–û–ô–ö–ê SSH
# ################################################################

# 2.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenSSH
# üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞–∫–µ—Ç openssh, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π sshd (—Å–µ—Ä–≤–µ—Ä).
sudo pacman -Sy --noconfirm openssh

# 2.2 (–ö–†–ò–¢–ò–ß–ï–°–ö–ò) –í—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ root
# ‚ö†Ô∏è –≠–¢–û –í–†–ï–ú–ï–ù–ù–û! –†–∞–∑—Ä–µ—à–∞–µ–º root-–≤—Ö–æ–¥ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
#    –ò—Å–ø–æ–ª—å–∑—É–µ–º sed –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞.
#    –ö–æ–º–∞–Ω–¥–∞: sed -i 's/^#*\s*PermitRootLogin\s.*/PermitRootLogin yes/g' /etc/ssh/sshd_config
#    –≠—Ç–æ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É (–µ—Å–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞) –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ 'yes'.
sudo sed -i 's/^#*\s*PermitRootLogin\s.*/PermitRootLogin yes/g' /etc/ssh/sshd_config

# 2.3 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–æ–ª—è root
# üîê –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è root. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
#    –ö–æ–º–∞–Ω–¥–∞ 'passwd' –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏–∑–º–µ–Ω—è–µ—Ç –ø–∞—Ä–æ–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (root).
passwd

# ################################################################
# ‚ö° –ß–ê–°–¢–¨ 3: –ó–ê–ü–£–°–ö SSH –ò –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï
# ################################################################

# 3.1 –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã SSH
# ‚ö° –í–∫–ª—é—á–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º sshd.
sudo systemctl enable sshd
sudo systemctl start sshd

# 3.2 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞
# üåê –£–∑–Ω–∞–π—Ç–µ IP-–∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω SSH.
#    –û–±—ã—á–Ω–æ —ç—Ç–æ –±—É–¥–µ—Ç –∞–¥—Ä–µ—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.
ip -brief address

# 3.3 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
# üîå –° –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
# ssh root@–í–ê–®_IP_–ê–î–†–ï–°_–ñ–ò–í–û–ô_–°–ò–°–¢–ï–ú–´
# –ü—Ä–∏–º–µ—Ä: ssh root@192.168.1.100

# ################################################################
# üìã –ß–ê–°–¢–¨ 4: –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´ –î–õ–Ø –£–°–¢–ê–ù–û–í–ö–ò
# ################################################################

# 4.1 –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∏—Å–∫–æ–≤
# üíæ lsblk - —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –¥–∏—Å–∫–∏ –∏ —Ä–∞–∑–¥–µ–ª—ã.
lsblk

# 4.2 –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (–ø–æ–¥—Ä–æ–±–Ω–æ)
# üåê ip -c addr - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç IP-–∞–¥—Ä–µ—Å–∞ –∏ —Å—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å —Ü–≤–µ—Ç–æ–º.
ip -c addr

# 4.3 –ü—Ä–æ—Å–º–æ—Ç—Ä Wi-Fi —É—Å—Ç—Ä–æ–π—Å—Ç–≤
# üì∂ iwctl device list - –ø–æ–∫–∞–∂–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ Wi-Fi –∞–¥–∞–ø—Ç–µ—Ä—ã.
iwctl device list

# 4.4 –ü—Ä–æ—Å–º–æ—Ç—Ä USB —É—Å—Ç—Ä–æ–π—Å—Ç–≤
# üîå lsusb - –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ USB —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
lsusb

# 4.5 –ü—Ä–æ—Å–º–æ—Ç—Ä PCI —É—Å—Ç—Ä–æ–π—Å—Ç–≤
# üñß lspci - –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞ —à–∏–Ω–µ PCI (–≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞, —Å–µ—Ç–µ–≤–∞—è –∫–∞—Ä—Ç–∞ –∏ —Ç.–¥.).
lspci

# ################################################################
# üö® –ß–ê–°–¢–¨ 5: –í–ê–ñ–ù–û! –î–ï–ô–°–¢–í–ò–Ø –ü–û–°–õ–ï –£–°–¢–ê–ù–û–í–ö–ò
# ################################################################

# ‚ö†Ô∏è –ü–û–°–õ–ï –¢–û–ì–û, –ö–ê–ö –í–´ –ó–ê–í–ï–†–®–ò–¢–ï –£–°–¢–ê–ù–û–í–ö–£ Arch Linux –ò –ë–£–î–ï–¢–ï –†–ê–ë–û–¢–ê–¢–¨ –í –ù–û–í–û–ô –°–ò–°–¢–ï–ú–ï:
# 1. –ù–ï–ú–ï–î–õ–ï–ù–ù–û –ó–ê–ü–†–ï–¢–ò–¢–ï –í–•–û–î root –ß–ï–†–ï–ó SSH:
sudo sed -i 's/^PermitRootLogin yes/#&\nPermitRootLogin prohibit-password/' /etc/ssh/sshd_config
sudo systemctl restart sshd


# ################################################################
# üìö –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï
# ################################################################
# ‚úÖ <<< –ù–ê–°–¢–†–û–ô–ö–ê SSH –î–õ–Ø –£–°–¢–ê–ù–û–í–ö–ò ARCH LINUX –ó–ê–í–ï–†–®–ï–ù–ê >>> ‚úÖ
# üí° –ü–æ–º–Ω–∏—Ç–µ: —ç—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
#             –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –∏—Ö –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ.
